{"version":3,"names":["CameraRuntimeError","CameraModule","assertJSIAvailable","errorMessage","hasWorklets","isAsyncContextBusy","value","runOnAsyncContext","_frame","_func","Worklets","require","createSharedValue","asyncContext","createContext","createRunInContextFn","frame","func","internal","decrementRefCount","e","proxy","initFrameProcessorPlugin","removeFrameProcessor","setFrameProcessor","result","installFrameProcessorBindings","global","VisionCameraProxy","getFrameProcessorPlugin","name","options","console","warn","getLastFrameProcessorCall","frameProcessorFuncId","__frameProcessorRunAtTargetFpsMap","setLastFrameProcessorCall","runAtTargetFps","fps","funcId","__workletHash","targetIntervalMs","now","performance","diffToLastCall","undefined","runAsync","incrementRefCount"],"sourceRoot":"../../src","sources":["FrameProcessorPlugins.ts"],"mappings":"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"}